<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>𝙬𝙚𝙞𝙧𝙙 𝙣𝙭𝙘®</title>

  <!-- Favicon -->
  <link rel="icon" href="favicon-16x16.png" />

  <!-- Meta Description & Keywords -->
  <meta name="description" content="internet label/compilation presenting a new breed of 'weird' and reconstructed nxc! our mission is to bridge the gap between pop! and some of the less accessible genres we all know and love :) our comps are all edits/remixes that are heavily inspired by nxc and nightcore culture!" />
  <meta name="keywords" content="nxc, nightcore, weird, compilation, edits, remixes, pop, threejs, oncyber, web3" />
  <meta name="author" content="WeirdNXC" />

  <!-- Canonical URL -->
  <link rel="canonical" href="https://weirdnxc.fun" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="𝙬𝙚𝙞𝙧𝙙 𝙣𝙭𝙘®" />
  <meta property="og:description" content="internet label/compilation presenting a new breed of 'weird' and reconstructed nxc! our mission is to bridge the gap between pop! and some of the less accessible genres we all know and love :) our comps are all edits/remixes that are heavily inspired by nxc and nightcore culture!" />
  <meta property="og:image" content="https://weirdnxc.fun/og-image.jpg" />
  <meta property="og:url" content="https://weirdnxc.fun" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="𝙬𝙚𝙞𝙧𝙙 𝙣𝙭𝙘®" />
  <meta name="twitter:description" content="internet label/compilation presenting a new breed of 'weird' and reconstructed nxc! our mission is to bridge the gap between pop! and some of the less accessible genres we all know and love :) our comps are all edits/remixes that are heavily inspired by nxc and nightcore culture!" />
  <meta name="twitter:image" content="https://weirdnxc.fun/twitter-image.jpg" />

  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MusicGroup",
    "name": "𝙬𝙚𝙞𝙧𝙙 𝙣𝙭𝙘®",
    "url": "https://weirdnxc.fun",
    "description": "internet label/compilation presenting a new breed of 'weird' and reconstructed nxc! our mission is to bridge the gap between pop! and some of the less accessible genres we all know and love :) our comps are all edits/remixes that are heavily inspired by nxc and nightcore culture!",
    "logo": "https://weirdnxc.fun/logo.png",
    "sameAs": [
      "https://www.facebook.com/weirdnxc",
      "https://x.com/weirdnxc",
      "https://www.instagram.com/weirdnxc"
    ]
  }
  </script>

  <!-- Web App Manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Note: Ensure you have a robots.txt and sitemap.xml on your server -->

  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
    }
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: linear-gradient(90deg, #89CFF0, #FFD700, #FF69B4);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 7px 1px;
      z-index: 1000;
    }
    .nav-left,
    .nav-center,
    .nav-right {
      display: flex;
      align-items: center;
    }
    .nav-left {
      flex: 0 0 auto;
    }
    .nav-center {
      flex: 1 1 auto;
      justify-content: center;
    }
    .nav-right {
      flex: 0 0 auto;
    }
    nav .logo {
      max-width: 60px;
      position: absolute;
      left: 20px;
      height: auto;
    }
    .music-controls {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 20px;
    }
    .music-controls .control {
      cursor: pointer;
      user-select: none;
    }
    .volume-label {
      font-size: 18px;
      user-select: none;
    }
    .volume-slider {
      width: 50px;
      cursor: pointer;
    }
    .menu-toggle {
      font-size: 14px;
      position: absolute;
      right: 20px;
      cursor: pointer;
      user-select: none;
      background: linear-gradient(145deg, #E0E0E0, #FFFFFF);
      padding: 0.1px 10px;
      box-shadow: 1px 2px 1px rgba(0, 0, 0, 0.5);
      transition: all 0.2s ease-in-out;
    }
    .menu-toggle:hover {
      background: linear-gradient(145deg, #FFD700, #FF69B4);
      color: #fff;
      transform: scale(1.1);
    }
    .sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 260px;
      height: 100%;
      background: linear-gradient(180deg, #FFD700, #FF69B4);
      box-shadow: -3px 0 5px rgba(0, 0, 0, 0.5);
      transform: translateX(100%);
      transition: transform 0.3s ease-in-out;
      z-index: 1001;
      padding: 12px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .sidebar.open {
      transform: translateX(0);
    }
    .sidebar-close {
      align-self: flex-end;
      font-size: 20px;
      cursor: pointer;
      user-select: none;
      margin-bottom: 8px;
    }
    .sidebar-links a {
      display: block;
      text-decoration: none;
      font-size: 12px;
      padding: 6px;
      margin: 4px 0;
      background: linear-gradient(145deg, #E0E0E0, #FFFFFF);
      border: 2px solid #000;
      border-radius: 3px;
      text-align: center;
      color: #000;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
      transition: all 0.2s ease-in-out;
    }
    .sidebar-links a:hover {
      background: linear-gradient(145deg, #FFD700, #FF69B4);
      color: #fff;
      transform: scale(1.05);
    }
    .music-player {
      display: flex;
      align-items: center;
      gap: 10px;
      background: linear-gradient(90deg, #FF69B4, #FFD700);
      border: 2px solid #000;
      border-radius: 5px;
      box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
      font-size: 10px;
      color: #000;
      width: 200px;
      overflow: hidden;
      padding: 4px;
      cursor: pointer;
    }
    .cover-art {
      width: 40px;
      height: 40px;
      border: 2px solid #000;
      border-radius: 3px;
      object-fit: cover;
    }
    .track-info {
      width: 180px;
      overflow: hidden;
      white-space: nowrap;
      position: relative;
    }
    .track-title {
      display: inline-block;
      padding-left: 100%;
      animation: ticker 10s linear infinite;
    }
    @keyframes ticker {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    .playlist-container {
      display: none;
      background: linear-gradient(90deg, #FF69B4, #FFD700);
      border: 2px solid #000;
      border-radius: 5px;
      padding: 4px;
      width: 200px;
      margin-top: 8px;
    }
    .playlist-act-header {
      font-size: 12px;
      font-weight: bold;
      margin: 4px 0;
      cursor: pointer;
      color: #000;
    }
    .playlist-track {
      font-size: 10px;
      padding: 4px;
      border-bottom: 1px solid #ccc;
      cursor: pointer;
      color: #000;
      overflow: hidden;
      white-space: nowrap;
    }
    .playlist-track:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    .content {
      flex: 1;
      margin-top: 0px;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    footer {
      background: linear-gradient(90deg, #FF69B4, #FFD700, #89CFF0);
      text-align: center;
      padding: 4px;
      position: fixed;
      bottom: 0;
      width: 100%;
      color: white;
      font-size: 10px;
    }
    .audio-player {
      display: none;
    }
    @media (max-width: 600px) {
      nav {
        flex-direction: row;
        padding: 6px 8px;
      }
      .nav-left .logo {
        max-width: 30px;
      }
      .music-controls {
        gap: 6px;
        font-size: 18px;
      }
      .menu-toggle {
        font-size: 22px;
      }
      .sidebar {
        width: 240px;
      }
      .music-player, .playlist-container {
        width: 220px;
      }
      .track-info {
        width: 140px;
      }
    }
  </style>

  <!-- Ticker style tab title -->
  <script>
    // This animates the tab title
    window.addEventListener('load', function() {
      let titleText = "weird nxc® - stay weird! - Act 7 Out NOW!! 😍 🪩 🔊 ";
      const speed = 70;
      setInterval(function(){
        titleText = titleText.substring(1) + titleText.charAt(0);
        document.title = titleText;
      }, speed);
    });
  </script>

  <script>
    // Global variables
    let acts = [1, 2, 3, 4, 5, 6, 7];
    let tracksByAct = {};
    let currentAct = 1;
    let currentTrackIndex = 0;

    // Create an object to store each ACT's cover from the JSON
    let coversByAct = {};

    // Initialize empty arrays for each act
    acts.forEach(act => {
      tracksByAct[act] = [];
    });

    // Load the JSON that has an array of objects with filename, title, artist, etc.
    function loadTracks() {
      fetch("music/tracks.json")
        .then(response => response.json())
        .then(data => {
          // For each ACT we found, store the cover file and build track objects
          acts.forEach(act => {
            const actKey = "ACT" + act;
            if (data[actKey]) {
              const actData = data[actKey];
              coversByAct[act] = actData.cover; 
              // Build array of track objects with full path
              // We'll store title, artist, etc. from the JSON directly (no jsmediatags).
              tracksByAct[act] = actData.tracks.map(t => {
                return {
                  filename: t.filename,
                  title: t.title,
                  artist: t.artist,
                  album: t.album,
                  duration: t.duration,
                  href: `music/${actKey}/${t.filename}`
                };
              });
            }
          });
          updatePlaylistUI();
        })
        .catch(error => {
          console.error("Error loading tracks.json:", error);
        });
    }

    // When the audio ends, auto-play the next track
    window.addEventListener('load', function() {
      document.querySelector('.audio-player').addEventListener('ended', nextTrack);
    });

    // Show or hide the sidebar
    function toggleMenu() {
      const sidebar = document.querySelector('.sidebar');
      sidebar.classList.toggle('open');
    }

    // If the user clicks outside the sidebar or burger button, close the sidebar
    document.addEventListener('click', function (event) {
      const sidebar = document.querySelector('.sidebar');
      const burger = document.querySelector('.menu-toggle');
      if (sidebar.classList.contains('open') && 
          !sidebar.contains(event.target) && 
          !burger.contains(event.target)) {
        sidebar.classList.remove('open');
      }
    });

    // Show or hide the playlist container
    function togglePlaylistContainer() {
      const plContainer = document.querySelector('.playlist-container');
      plContainer.style.display = (plContainer.style.display === 'block') ? 'none' : 'block';
    }

    // If user clicks the music player, we toggle the playlist
    function togglePlaylistOnPlayer() {
      togglePlaylistContainer();
    }

    // Play a specific track
    function playTrack(act, index) {
      const audioPlayer = document.querySelector('.audio-player');
      currentAct = act;
      currentTrackIndex = index;
      const track = tracksByAct[act][index];

      audioPlayer.src = track.href;
      audioPlayer.play();

      // Update now-playing info from the JSON
      const displayedTitle = track.title + (track.artist ? " - " + track.artist : "");
      document.querySelector('.track-title').textContent = displayedTitle;

      // If you want the ACT cover, do this:
      const actCover = coversByAct[act] || "cover_default.jpg";
      document.querySelector('.cover-art').src = `music/ACT${act}/${actCover}`; 
      // If you prefer a default fallback, check if it actually exists first, etc.
    }

    // Next track
    function nextTrack() {
      if (tracksByAct[currentAct].length === 0) return;
      if (currentTrackIndex < tracksByAct[currentAct].length - 1) {
        playTrack(currentAct, currentTrackIndex + 1);
      } else {
        // Move on to the next ACT, or wrap around
        let currentActIndex = acts.indexOf(currentAct);
        let nextActIndex = (currentActIndex + 1) % acts.length;
        let nextAct = acts[nextActIndex];
        if (tracksByAct[nextAct] && tracksByAct[nextAct].length > 0) {
          playTrack(nextAct, 0);
        } else {
          // If nextAct has no tracks, keep searching
          for (let i = 1; i <= acts.length; i++) {
            let candidate = acts[(nextActIndex + i - 1) % acts.length];
            if (tracksByAct[candidate] && tracksByAct[candidate].length > 0) {
              playTrack(candidate, 0);
              break;
            }
          }
        }
      }
    }

    // Previous track
    function prevTrack() {
      if (tracksByAct[currentAct].length === 0) return;
      if (currentTrackIndex > 0) {
        playTrack(currentAct, currentTrackIndex - 1);
      } else {
        // Go to the previous ACT
        let currentActIndex = acts.indexOf(currentAct);
        let prevActIndex = (currentActIndex - 1 + acts.length) % acts.length;
        let prevAct = acts[prevActIndex];
        if (tracksByAct[prevAct] && tracksByAct[prevAct].length > 0) {
          playTrack(prevAct, tracksByAct[prevAct].length - 1);
        } else {
          // If that ACT has no tracks, keep searching
          for (let i = 1; i <= acts.length; i++) {
            let candidate = acts[(prevActIndex - i + acts.length) % acts.length];
            if (tracksByAct[candidate] && tracksByAct[candidate].length > 0) {
              playTrack(candidate, tracksByAct[candidate].length - 1);
              break;
            }
          }
        }
      }
    }

    // Random track among all available ACTs
    function playRandomTrack() {
      let availableActs = acts.filter(act => tracksByAct[act] && tracksByAct[act].length > 0);
      if (availableActs.length === 0) {
        // If no acts loaded yet, load them first
        loadTracks();
        setTimeout(() => {
          playRandomTrack();
        }, 500);
        return;
      }
      let randomAct = availableActs[Math.floor(Math.random() * availableActs.length)];
      let randomIndex = Math.floor(Math.random() * tracksByAct[randomAct].length);
      playTrack(randomAct, randomIndex);
    }

    // Play or pause
    function playPause() {
      const audioPlayer = document.querySelector('.audio-player');
      if (!audioPlayer.src || audioPlayer.src === "") {
        // If no track is loaded, start from ACT1 track0 (example)
        if (tracksByAct[1] && tracksByAct[1].length > 0) {
          playTrack(1, 0);
        }
      } else if (audioPlayer.paused) {
        audioPlayer.play();
      } else {
        audioPlayer.pause();
      }
    }

    // Adjust volume
    function setVolume(vol) {
      const audioPlayer = document.querySelector('.audio-player');
      audioPlayer.volume = vol;
    }

    // Build the playlist UI from the JSON data
    function updatePlaylistUI() {
      const container = document.getElementById('playlist-container');
      container.innerHTML = ""; // Clear old content

      acts.forEach(act => {
        if (tracksByAct[act].length > 0) {
          // ACT header
          const actHeader = document.createElement('div');
          actHeader.className = 'playlist-act-header';
          actHeader.textContent = `ACT ${act}`;
          actHeader.onclick = function() {
            playTrack(act, 0);
          };
          container.appendChild(actHeader);

          // For each track, display "title - artist"
          tracksByAct[act].forEach((track, index) => {
            const trackItem = document.createElement('div');
            trackItem.className = 'playlist-track';
            // Display "title - artist" or fallback to filename
            const displayed = track.title + (track.artist ? " - " + track.artist : "");
            trackItem.textContent = displayed;

            trackItem.onclick = function() {
              playTrack(act, index);
            };
            container.appendChild(trackItem);
          });
        }
      });
    }

    window.onload = function() {
      loadTracks();
    };
  </script>
</head>
<body>
  <nav>
    <div class="nav-left">
      <img src="logo.png" alt="Logo" class="logo" />
    </div>
    <div class="nav-center">
      <div class="music-controls">
        <span class="control" onclick="prevTrack()">⏮️</span>
        <span class="control" onclick="playPause()">⏯️</span>
        <span class="control" onclick="nextTrack()">⏭️</span>
        <span class="control" onclick="playRandomTrack()">🔀</span>
        <span class="volume-label">🔊</span>
        <input 
          type="range" 
          min="0" 
          max="1" 
          step="0.01" 
          value="1" 
          class="volume-slider" 
          onchange="setVolume(this.value)" 
        />
      </div>
    </div>
    <div class="nav-right">
      <span class="menu-toggle" onclick="toggleMenu()">☰</span>
    </div>
  </nav>

  <div class="sidebar">
    <span class="sidebar-close" onclick="toggleMenu()">✖</span>
    <div class="sidebar-links">
      <a href="#" onclick="location.reload();">Home</a>
      <a href="https://linktr.ee/weirdnxc" target="_blank">Contact</a>
      <a href="javascript:void(0)" onclick="togglePlaylistContainer()">Playlist</a>
    </div>

    <div id="music-player-container" onclick="togglePlaylistOnPlayer()">
      <div class="music-player">
        <img class="cover-art" src="cover_default.jpg" alt="Cover Art" />
        <div class="track-info">
          <span class="track-title">No song playing</span>
        </div>
      </div>
    </div>   
    <div id="playlist-container" class="playlist-container"></div>
  </div>

  <div class="content">
    <iframe src="https://awe.box/weirdnxc"></iframe>
  </div>

  <footer>
    &copy; 2025 WeirdNXC. All rights reserved, design by @sunshinevendetta.
  </footer>

  <!-- Our audio element: crossOrigin for possible remote hosting -->
  <audio class="audio-player" crossorigin="anonymous"></audio>
</body>
</html>
